<!---
888b      88         db   8b           d8  
8888b     88        d88b  `8b         d8'  
88 `8b    88       d8'`8b  `8b       d8'   
88  `8b   88      d8'  `8b  `8b     d8'    
88   `8b  88     d8YaaaaY8b  `8b   d8'     
88    `8b 88    d8""""""""8b  `8b d8'      
88     `8888   d8'        `8b  `888'       
88      `888  d8'          `8b  `8'        
-->
<header>
            <nav class="navbar fixed-top navbar-expand-xl navbar-dark bg-green-700 autor">
                <div class="container p-0">
                    <div class="flex items-center">
                        <a class="p-2 mr-1 hover:bg-green-800 rounded flex items-center  text-decoration-none " href="#">
                            <img [src]="getPath()+'/logo.png'" width="30" height="30" class="d-inline-block align-top bg-white rounded" alt="" loading="lazy">
                            <label class="ml-2 m-0 text-decoration-none shadow-none text-xl text-white">Kid's School </label>
                        </a>
                        <div class="dropdown">
                            <button data-toggle="dropdown" (click)="helpS.gosetNofiClochVu()"
                            class="dropdown-toggle flex items-center justify-center bg-green-800 hover:bg-green-900 rounded-full h-8 w-8 text-white mr-2 focus:outline-none transition duration-150 ease-in-out">
                                <span *ngIf='helpS.notif_Cloche!==0' class="rounded-full text-xs bg-red-500 absolute top-0 right-0 Myshadow h-4 w-5 flex items-center justify-center"><b>{{helpS.notif_Cloche}}</b></span>
                                <svg class="w-1/2 h-1/2 text" viewBox="0 0 16 16" fill="currentColor" >
                                    <path d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zm.995-14.901a1 1 0 1 0-1.99 0A5.002 5.002 0 0 0 3 6c0 1.098-.5 6-2 7h14c-1.5-1-2-5.902-2-7 0-2.42-1.72-4.44-4.005-4.901z"/>
                                </svg>
                            </button>
                            <div class="dropdown-menu dropdown-menu-center-cloch overflow-auto" 
                            style="width:300px; height: 500px;"
                            aria-labelledby="profiledropdown">
                                <a *ngFor='let notif of notificationsData;' 
                                class="dropdown-item border-b-2 flex items-center justify-center cursor-pointer" style="white-space: normal;" 
                                [routerLink]="notif.linkTo+'/'+notif.idPub">
                                    <div class="flex-shrink-0 w-10 h-10 mr-2 ">
                                        <img [src]='notif.photoPub' class="h-10 w-10 rounded-full object-cover" /> 
                                    </div>
                                    <label class="m-0 grid">
                                        <p class="text-sm">
                                        <b>{{ notif.nomPub }}</b>
                                        {{ notif.newLable }}   
                                        </p> 
                                        <small class="text-success">                       
                                            {{ notif.timePub }}
                                        </small> 
                                    </label>
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="flex items-center">
                        
                        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navTa3i" aria-controls="navTa3i" aria-expanded="false" aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                    </div>
                    
                    <div class="collapse navbar-collapse" id="navTa3i">
                        <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
                            <li class="nav-item relative ml-1" >
                                <a class="nav-link hover:bg-green-900 rounded" (click)="helpS.gosetNofiPubsVu()" [routerLinkActive]="'text-white font-bold'" routerLink="publications">Publications</a>
                                <span  *ngIf='helpS.notif_Publication!=0' class="rounded-full text-xs text-white bg-red-500 absolute top-0 right-0 Myshadow h-4 w-5 flex items-center justify-center"><b>{{helpS.notif_Publication}}</b></span>
                            </li>
                            <li class="nav-item relative  ml-1" >
                                <a class="nav-link hover:bg-green-900 rounded" (click)="helpS.gosetNofiMsgsVu()" [routerLinkActive]="'text-white font-bold'" routerLink="messages">Messages</a>
                                <span *ngIf='helpS.notif_Messages!=0' class="rounded-full text-xs text-white bg-red-500 absolute top-0 right-0 Myshadow h-4 w-5 flex items-center justify-center"><b>{{helpS.notif_Messages}}</b></span>
                            </li>
                            <li class="nav-item relative  ml-1" *ngIf="this.helpS.ME?.type=='D'" >
                                <a class="nav-link hover:bg-green-900 rounded" (click)="helpS.gosetNofiRelsVu()" [routerLinkActive]="'text-white font-bold'" routerLink="relations">Relations</a>
                                <span  *ngIf='helpS.notif_Relations!=0' class="rounded-full text-xs text-white bg-red-500 absolute top-0 right-0 Myshadow h-4 w-5 flex items-center justify-center"><b>{{helpS.notif_Relations}}</b></span>
                            </li>
                            <li class="nav-item relative  ml-1" *ngIf="this.helpS.ME?.type=='D'">
                                <a class="nav-link hover:bg-green-900 rounded " (click)="helpS.gosetNofiDashVu()" [routerLinkActive]="'text-white font-bold'" routerLink="dashboard" tabindex="-1">Dashboard</a>
                                <span  *ngIf='helpS.notif_Dashboard!=0' class="rounded-full text-xs text-white bg-red-500 absolute top-0 right-0 Myshadow h-4 w-5 flex items-center justify-center"><b>{{helpS.notif_Dashboard}}</b></span>
                            </li>
                            <li class="nav-item relative  ml-1" *ngIf="this.helpS.ME?.type!='E'">
                                <a class="nav-link hover:bg-green-900 rounded " (click)="helpS.gosetNofiKidsVu()" [routerLinkActive]="'text-white font-bold'" routerLink="kids" tabindex="-1">Kid's Space</a>
                                <span  *ngIf='helpS.notif_kids_space!=0' class="rounded-full text-xs text-white bg-red-500 absolute top-0 right-0 Myshadow h-4 w-5 flex items-center justify-center"><b>{{helpS.notif_kids_space}}</b></span>
                            </li>
                        </ul>
                        
                        <div class="my-2 my-lg-0 flex justify-end">
                            <div class="dropdown">
                                <button data-toggle="dropdown" id="profiledropdown" class="dropdown-toggle flex text-sm text-white rounded-full focus:outline-none hover:bg-green-800 transition duration-150 ease-in-out">
                                    <img class="h-8 w-8 rounded-full object-cover" [src]="this.helpS.ME?.photo" [alt]="(this.helpS.ME?.nom | uppercase )+' '+this.helpS.ME?.prenom">
                                    <p class="p-1 pr-3">{{this.helpS.ME?.nom | uppercase }} {{this.helpS.ME?.prenom}} </p>
                                </button>
                                <div  class="dropdown-menu dropdown-menu-right" aria-labelledby="profiledropdown">
                                    <a *ngIf="this.helpS.ME?.type=='P'" class="dropdown-item" routerLink="myprofile" href="#">Mon Profile</a>
                                    <hr *ngIf="this.helpS.ME?.type=='P'" />
                                    <a *ngIf="this.helpS.ME?.type=='P'" class="dropdown-item" routerLink="services/rendezvous"  >Rendez-vous</a>
                                    <a *ngIf="this.helpS.ME?.type=='P'" class="dropdown-item" routerLink="services/certificascolarite">Certificat de scolarité</a>
                                    <hr *ngIf="this.helpS.ME?.type=='P'" />
                                    <a *ngIf="this.helpS.ME?.type=='P'" class="dropdown-item" routerLink="services/retard">Signaler un retard a l'educateur</a>
                                    <a *ngIf="this.helpS.ME?.type=='P'" class="dropdown-item" routerLink="services/absence">Signaler une absence a l'educateur</a>
                                    <a *ngIf="this.helpS.ME?.type=='P'" class="dropdown-item" routerLink="services/medicament">Signaler une prise de médicaments</a>
                                    <hr *ngIf="this.helpS.ME?.type=='P'" />
                                    <a class="dropdown-item focus:bg-red-500 hover:bg-red-200" (click)="logout()" href="#">Deconnexion</a>
                                </div>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </nav>
        
    
</header>


